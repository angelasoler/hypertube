# Dockerfile for running E2E tests
FROM mcr.microsoft.com/playwright:v1.48.0-focal

# Set working directory
WORKDIR /app

# Copy package files
COPY package.json ./
COPY tsconfig.json ./

# Install dependencies
RUN npm install

# Copy test files
COPY . .

# Set environment variables
ENV FRONTEND_URL=http://localhost:3000
ENV API_URL=http://localhost:8080
ENV SKIP_WEBSERVER=true

# Default command
CMD ["npm", "test"]
